<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="shortcut icon" type="image/x-icon" href="http://localhost/webPro/images/SiSt.ico">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
    div{
        width: 300px;
        height: 100px;
        background-color: yellow;
        border: 1px solid;

    }
</style>
</head>
<body>
    <input id="rdoClockWise" type="radio" name="direction" value="1" >
    <label for="rdoClockWise">시계방향</label>
    <input id="rdoReverseClockWise" type="radio"  name="direction" value="-1" checked="checked">
    <label for="rdoReverseClockWise">반시계방향</label>
    
    <br>
    
    <button>회전 시작</button>
    <button disabled="disabled">회전 멈춤</button>
    <br>
    회전 속도:
    <input id="speed" type="range" min="10" max="1000" value="10">
    <p>.</p>
    <p>.</p>
    <p>.</p>
    
    <div>
    Lorem ipsum dolor sit amet, consectetur 
    adipisicing elit. Sit modi eos eum facere 
    quod architecto!
    </div>


<script>

//주요 아이디어: 1도씩 계속 회전시키기

// 회전할 각도 저장하는 변수
let angle = 1;

// 회전하는 방향 1이면 시계방향, -1이면 반시계 방향으로 회전시키기 (방향을 저장하는 변수)
let direction = 1;
//
let timer;
//

//회전 시작 누르면
document.querySelector("button:first-of-type").onclick = function(){
    // alert("시작 테스트");
    let dirRadios = document.querySelectorAll('input[type=radio][name=direction]');
    for (let i = 0; i < dirRadios.length; i++) {
        if ( dirRadios[i].checked) {
            direction = dirRadios[i].value; //1 ,-1
            break;
            
        }
        
    }

    // 함수 호출이면 ()쓰는데 이건 함수 등록만 해두는거라서 () 안씀 , 뒤는 밀리세컨드 (10 == 1초)
    let setSpeed = document.querySelector("#speed").value;
    console.log(setSpeed);

    timer = setInterval( targetRotate , setSpeed );
    
    //회전멈춤 버튼 활성화
    document.querySelector("button:last-of-type").disabled=false;
    //회전시작 비활성화
    this.disabled=true;

};

//회전 멈춤 누르면
document.querySelector("button:last-of-type").onclick = function(){
    // alert("멈춤 테스트");
    clearInterval(timer);

    this.disabled=true;
    document.querySelector("button:first-of-type").disabled=false;

};

function targetRotate(){
    let target = document.querySelector("div");
    target.style.transform=`rotate(${angle}deg)`;

    angle += parseInt( direction );
    // console.log(angle);
}

//체크된 라디오 버튼 확인하기 (시계인지 반시계인지 확인)

//  let dirRadios = document.querySelectorAll('input[type=radio][name=direction]');
//  console.log(dirRadios);





</script>
</body>
</html>

