<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="shortcut icon" type="image/x-icon" href="http://localhost/webPro/images/SiSt.ico">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="http://localhost/webPro/resources/cdn-main/example.css">
<script src="http://localhost/webPro/resources/cdn-main/example.js"></script>
</head>
<style>
 span.material-symbols-outlined{
    vertical-align: text-bottom;
 }  
</style>
<style>

.myDiv{
  background-color: #f1f1f1;
  text-align: center;
  border:  1px solid #d3d3d3;
  position: absolute;
  z-index: 9;
}

.myDivHeader{
  padding: 10px;
  cursor: move;
  z-index: 10;
  background-color: #2396f3;
  color: #fff;
}

</style>

<body>
<header>
  <h1 class="main"><a href="#" style="position: absolute;top:30px;">JYP ent</a></h1>
  <ul>
    <li><a href="#">로그인</a></li>
    <li><a href="#">회원가입</a></li>
  </ul>
</header>
<div>
  <xmp class="code">
                         
  </xmp>
  <div id="myDiv1" class="myDiv">
    <div id="myDiv1Header" class="myDivHeader">Click Here 1</div>
    <p>Lorem.</p>
    <p>ipsum</p>
    <p>dolor.</p>
  </div>
</div> 

<script>
  /*
  // jq는 $(객체).draggable()만 하면 끝이었음
  //js drag()

  function draggable(elem) {

    // 요소의 위치 저장할 변수
    let elemX = 0 , elemY = 0;

    //마우스를 움직이면.. 움직이는 거리 저장할 변수
    let moveX =0 ,moveY = 0;

    //elem.id +"Header"
    if (document.querySelector(`#${elem.id}Header`)) {
      document.querySelector(`#${elem.id}Header`).onmousedown = dragMouseDown;
    }
    
    //mouseDown (이벤트 핸들러)
    function dragMouseDown(e) {
      e = window.event || e;
      console.log(`[md] ${e.clientX}/${e.clientY}`);
      
      elemX = e.clientX;
      elemY = e.clientY;

      //mousemove, mouseout 등록 처리
      document.onmousemove = dragMouseMove;
      document.onmouseup = dragMouseUp ;
    }

    function dragMouseMove(e) {
      e = e || window.event;
      console.log(`>> [md] ${e.clientX}/${e.clientY}`);
     
      //#myDiv1 위치 이동
      elem.style.left = ( elem.offsetLeft - moveX ) + "px";
      elem.style.top = ( elem.offsetTop - moveX )  + "px";

      elemX = e.clientX;
      elemY = e.clientY;
    }

    function dragMouseUp() {
      //이벤트 취소(제거)
      document.onmousemove = null;
      document.onmouseup = null;
    }
  }//draggable

  draggable(document.querySelector("#myDiv1") );
  */
</script>

<script>
  // js drag()
  function draggable(elemt){
     
     // 현재 요소의 위치를 저장 변수
     let elemtX = 0, elemtY= 0;
     // 마우스 움직이면 움직이는 거리 
     let moveX = 0 , moveY = 0;
     
     // elemt.id +"Header"
     if (  document.querySelector(`#${elemt.id}Header`)  ) {
        document.querySelector(`#${elemt.id}Header`).onmousedown = dragMouseDown;
    }
     
     // mousedown
     function dragMouseDown(e){
        e = window.event || e;
        console.log(`[md] ${e.clientX}/${e.clientY}`);
        
        elemtX = e.clientX;
        elemtY = e.clientY;
        
        // mousemove, mouseout 등록 처리
        document.onmousemove = dragMouseMove;
        document.onmouseup = dragMouseUp;
     }
     
     function dragMouseMove(e){
        e = window.event || e;
        console.log(`>> [mv] ${e.clientX}/${e.clientY}`);
        
        moveX = elemtX - e.clientX;
        moveY = elemtY - e.clientY;
        
        // #myDiv1 위치 이동..
        // elemt.left => "100px"
        // elemt.offsetLeft => "100"
        elemt.style.left = ( elemt.offsetLeft - moveX ) + "px";
        elemt.style.top = ( elemt.offsetTop - moveY ) + "px";
        
        // 
        elemtX = e.clientX;
        elemtY = e.clientY;
     }
     
     function dragMouseUp(e){
        // 이벤트 취소(제거)
        document.onmousemove = null;          
        document.onmouseup = null;
     }
     
  } // draggable
  
  draggable( document.querySelector("#myDiv1"));
  draggable( document.querySelector("#myDiv2"));
 
</script>


</body>
</html>